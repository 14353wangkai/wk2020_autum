## 数据表设计

- ER图

  - 实体：方框表示。即数据模型中的数据对象，例如人、学生、音乐都可以作为一个数据对象。
    - 一个实体一般来说就是对应一个表
  - 属性：椭圆表示。可以是复合属性，也就是多个属性可以抽象成一个整体属性，让人更方便观看。
  - 关系：菱形表示。两个实体之间的关系

- 不建议使用外键，因为两个实体之间的关联可以通过非sql语句实现，这样逻辑更通顺。

- 在代码中，两个表中相同的主键就相当于外键

- 范式

  - 1NF：每一列属性都是不可分割的

  - 2nf：非主属性**完全依赖**于主键。

    - 数据依赖：AB->C，说明通过确定AB两个属性就可以确定C是什么。

    - 数据蕴含：以多个数据依赖作为操作集，如果能够推导出操作集之外的属性，那么说明这个属性是被这个集合蕴含的，所有蕴含关系形成的集合，称为**依赖闭包**

    - 局部依赖：如果主键是AB，除了AB->C之外，还满足A->C, 那么这就是局部依赖

    - 完全依赖：如果属性C只能通过完整的主键唯一确定，那么C就完全依赖与主见。

    - 2nf要求：如果数据表中存在一些属性是部分依赖于主键的，那么可以将这些属性和那部分主键单独放到一张表中

      

  - 3nf: 没有冗余

    - 举例：有张订单流水表，其中包括（订单编号，商品编号，下订单的会员编号，商品名，商品价格，会员姓名，会员手机，会员地址）这些信息。

  - Bcnf:

  

