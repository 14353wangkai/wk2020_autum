## DNS协议

- 底层有udp和tcp
- udp用于解析url
- tcp用于更新dns缓存映射
- 由于udp传输报文大小的限制，dns根服务器最多有13个
- url解析过程
  - 本地：浏览器缓存 - 操作系统缓存 - 本地网关缓存
  - dns：本地dns - 根dns - 顶级dns - 根dns -... - 返回



## DNS攻击

- 

## 关于dns使用哪一种协议

- UDP
  - 绝大多数都是UDP
  - 只有在解析大文件的时候才会使用tcp
- TCP
  - dns的规范规定了2种类型的dns服务器，一个叫主dns服务器，一个叫辅助dns服务器。
  - 在一个区中主dns服务器从自己本机的数据文件中读取该区的dns数据信息，而辅助dns服务器则从区的权威dns服务器中读取该区的dns数据信息。
  - 当一个辅助dns服务器启动时，它需要与主dns服务器通信，并加载数据信息，这就叫做区传送（zone transfer）.
  - 在区传送的时候，为了确保数据的同步，使用了tcp连接