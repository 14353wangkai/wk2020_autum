## http基础

### 请求头

- 请求方法：get之类
- host：请求的web服务器域名地址
- Keep-alive
- Cookie
- connection

### 响应头

- 状态行
  - http版本号
  - 状态码
  - 状态消息
- 消息长度
- 数据类型
- 时间



## 状态码

- 1xx，2xx: 基本上都是成功，一个是成功连接，一个是成功返回
  - 201
- 3xx：重定向
  - 301：临时转移，302: 永久转移，都会返回一个重定向url
  - 303
- 4xx：客户端问题
- 5xx：服务端问题
  - 501
  - 502
  - 50

## http：从url到渲染？

- dns解析
- 获取ip之后，可能有一个https的连接
- tcp连接
  - 三次握手：见下一个文件
  - tcp报文头
- 发起http请求
  - http报文头部
  - post和get？
  - cookie和session？
- 服务器收到请求

- 服务器处理请求，返回http报文
  - 响应报文头
  - 状态码

- 浏览器解析渲染页面
- 断开连接



## https建立过程

- 连接过程
  - 加密知识：公私钥能相互解开，但是对于被嵌套的公私钥，相当于嵌套的锁，一定要将外层的锁解开之后才能解开内层的锁
  - 服务器产生公私钥
  - 将公私钥发送给CA
  - CA生成客户端浏览器公私钥
  - CA使用客户端浏览器的私钥对共服务器的公钥进行加密，得到证书，返回给服务器
  - CA将证书发给客户端
  - 服务器发送公钥与证书给客户端
  - 客户端利用公钥对证书解密，对比服务端公钥，确认来源无误
  - 客户端生成随机密码，保存在本地，然后使用服务端公钥加密
  - 将加密的密码返回给服务端
  - 服务端使用私钥解密得到客户端密码
  - 此时完成了密码交换工作
  - 此后进行的所有数据交换都会事先使用改密码进行加密。
- 所涉及到的非对称加密和对称加密
  - 非对称加密：在连接建立之前，给交换的密钥进行加密（RSA）https://zhuanlan.zhihu.com/p/44185847
    - ![img](https://upload-images.jianshu.io/upload_images/2829175-9385a8c5e94ad1da.png)
  - 对称加密：在建立连接之后，利用公共的密钥进行数据加密（3DES）
    - ![preview](https://picb.zhimg.com/v2-bed580fa666d3ca820a27b802e86a2fb_r.jpg)
- 

